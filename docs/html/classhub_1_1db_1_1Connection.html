<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RPCHub: hub::db::Connection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RPCHub
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classhub_1_1db_1_1Connection.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classhub_1_1db_1_1Connection-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">hub::db::Connection Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="connection_8h_source.html">connection.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for hub::db::Connection:</div>
<div class="dyncontent">
<div class="center"><img src="classhub_1_1db_1_1Connection__inherit__graph.png" border="0" usemap="#hub_1_1db_1_1Connection_inherit__map" alt="Inheritance graph"/></div>
<map name="hub_1_1db_1_1Connection_inherit__map" id="hub_1_1db_1_1Connection_inherit__map">
<area shape="rect" id="node2" href="classhub_1_1db_1_1ConnectionImpl.html" title="hub::db::ConnectionImpl\l\&lt; sqlpp::mysql::connection,\l sqlpp::mysql::connection\l_config \&gt;" alt="" coords="206,5,409,76"/>
<area shape="rect" id="node4" href="classhub_1_1db_1_1ConnectionImpl.html" title="hub::db::ConnectionImpl\l\&lt; sqlpp::sqlite3::connection,\l sqlpp::sqlite3::connection\l_config \&gt;" alt="" coords="204,100,411,171"/>
<area shape="rect" id="node6" href="classhub_1_1db_1_1ConnectionImpl.html" title="hub::db::ConnectionImpl\l\&lt; Conn, Conf \&gt;" alt="" coords="217,195,397,236"/>
<area shape="rect" id="node3" href="classhub_1_1db_1_1MariaDBConnection.html" title="hub::db::MariaDBConnection" alt="" coords="459,27,665,54"/>
<area shape="rect" id="node5" href="classhub_1_1db_1_1SQLite3Connection.html" title="hub::db::SQLite3Connection" alt="" coords="461,122,663,149"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afa12d65ffc943d8b539821f6dc011e72"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#afa12d65ffc943d8b539821f6dc011e72">~Connection</a> ()</td></tr>
<tr class="separator:afa12d65ffc943d8b539821f6dc011e72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad793aac29875b3a8ebe2bac7abc4b1bd"><td class="memItemLeft" align="right" valign="top">virtual std::unique_ptr&lt; <a class="el" href="classhub_1_1db_1_1Transaction.html">Transaction</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#ad793aac29875b3a8ebe2bac7abc4b1bd">transaction</a> ()=0</td></tr>
<tr class="separator:ad793aac29875b3a8ebe2bac7abc4b1bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a079cf68d650cd959a8cdd8c4e7ceb45c"><td class="memItemLeft" align="right" valign="top">virtual nonstd::optional&lt; int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a079cf68d650cd959a8cdd8c4e7ceb45c">userIdFromIdentifier</a> (const std::string &amp;identifier)=0</td></tr>
<tr class="separator:a079cf68d650cd959a8cdd8c4e7ceb45c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6455f92f85f5859a8d6d0e3ce177555"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="namespacehub_1_1db.html#abd45532e1f686cf43a0f30fb217b4572">AddressWithID</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#af6455f92f85f5859a8d6d0e3ce177555">unsweptUserAddresses</a> ()=0</td></tr>
<tr class="separator:af6455f92f85f5859a8d6d0e3ce177555"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af579df38ddfbf1ad4d055fc8660deb57"><td class="memItemLeft" align="right" valign="top">virtual std::unordered_multimap&lt; uint64_t, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#af579df38ddfbf1ad4d055fc8660deb57">tailsForUserAddresses</a> (const std::vector&lt; uint64_t &gt; &amp;userIds)=0</td></tr>
<tr class="separator:af579df38ddfbf1ad4d055fc8660deb57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6ed9b5d63bf98c07d8ebd37f9a00e8d"><td class="memItemLeft" align="right" valign="top">virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#ab6ed9b5d63bf98c07d8ebd37f9a00e8d">availableBalanceForUser</a> (uint64_t userId)=0</td></tr>
<tr class="separator:ab6ed9b5d63bf98c07d8ebd37f9a00e8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc3f05101f2ee29ac4c374a2f35d8bb9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#abc3f05101f2ee29ac4c374a2f35d8bb9">createUser</a> (const std::string &amp;identifier)=0</td></tr>
<tr class="separator:abc3f05101f2ee29ac4c374a2f35d8bb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a010a4e491b9ad3a5587465b347a1bc4e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a010a4e491b9ad3a5587465b347a1bc4e">createUserAddressBalanceEntry</a> (uint64_t addressId, int64_t amount, const <a class="el" href="namespacehub_1_1db.html#af0c76d08c7cec60044a454beb22f58b9">UserAddressBalanceReason</a> reason, nonstd::optional&lt; std::string &gt; tailHash, nonstd::optional&lt; uint64_t &gt; sweepId)=0</td></tr>
<tr class="separator:a010a4e491b9ad3a5587465b347a1bc4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47ab93219e93fc11482a2f41c5489e23"><td class="memItemLeft" align="right" valign="top">virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a47ab93219e93fc11482a2f41c5489e23">createUserAddress</a> (const common::crypto::Address &amp;address, uint64_t userId, const common::crypto::UUID &amp;uuid)=0</td></tr>
<tr class="separator:a47ab93219e93fc11482a2f41c5489e23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6ca81200b8a89043e602d8c1ea1c6ff"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#ad6ca81200b8a89043e602d8c1ea1c6ff">createUserAccountBalanceEntry</a> (uint64_t userId, int64_t amount, const <a class="el" href="namespacehub_1_1db.html#ac42d10758bc8b6599297b15880d11159">UserAccountBalanceReason</a> reason, const nonstd::optional&lt; uint64_t &gt; fkey={})=0</td></tr>
<tr class="separator:ad6ca81200b8a89043e602d8c1ea1c6ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b6382409fd94e3f33b6bea395e8abb6"><td class="memItemLeft" align="right" valign="top">virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a6b6382409fd94e3f33b6bea395e8abb6">createWithdrawal</a> (const std::string &amp;uuid, uint64_t userId, uint64_t amount, const common::crypto::Tag &amp;tag, const common::crypto::Address &amp;payoutAddress)=0</td></tr>
<tr class="separator:a6b6382409fd94e3f33b6bea395e8abb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ac9265482dbc6ec18c97434b6ac8ede"><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a2ac9265482dbc6ec18c97434b6ac8ede">cancelWithdrawal</a> (const std::string &amp;uuid)=0</td></tr>
<tr class="separator:a2ac9265482dbc6ec18c97434b6ac8ede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95bd53ca4833cf66517aa71e441da711"><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a95bd53ca4833cf66517aa71e441da711">setWithdrawalSweep</a> (uint64_t id, uint64_t sweepId)=0</td></tr>
<tr class="separator:a95bd53ca4833cf66517aa71e441da711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bedb1b8b96c2ecf16ac26e9a097b30e"><td class="memItemLeft" align="right" valign="top">virtual nonstd::optional&lt; <a class="el" href="namespacehub_1_1db.html#a21f2d2c0a917e8ee7792c3826af25402">AddressWithUUID</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a5bedb1b8b96c2ecf16ac26e9a097b30e">selectFirstUserAddress</a> ()=0</td></tr>
<tr class="separator:a5bedb1b8b96c2ecf16ac26e9a097b30e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc3dcc8f8252e79c615faea85d7a5d01"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#acc3dcc8f8252e79c615faea85d7a5d01">markUUIDAsSigned</a> (const common::crypto::UUID &amp;uuid)=0</td></tr>
<tr class="separator:acc3dcc8f8252e79c615faea85d7a5d01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab67b4371f7634154f102f17b42fd0111"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="structhub_1_1db_1_1UserAccountBalanceEvent.html">UserAccountBalanceEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#ab67b4371f7634154f102f17b42fd0111">getUserAccountBalances</a> (uint64_t userId)=0</td></tr>
<tr class="separator:ab67b4371f7634154f102f17b42fd0111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3db94ffe3e793fff44091db8c10ceac6"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="structhub_1_1db_1_1Sweep.html">Sweep</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a3db94ffe3e793fff44091db8c10ceac6">getUnconfirmedSweeps</a> (const std::chrono::system_clock::time_point &amp;olderThan)=0</td></tr>
<tr class="separator:a3db94ffe3e793fff44091db8c10ceac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad71ce609db504855e795ed24f3a05057"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#ad71ce609db504855e795ed24f3a05057">createTail</a> (uint64_t sweepId, const std::string &amp;hash)=0</td></tr>
<tr class="separator:ad71ce609db504855e795ed24f3a05057"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6656f0693bc57bca882f80b74b0ec012"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="structhub_1_1db_1_1SweepTail.html">SweepTail</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a6656f0693bc57bca882f80b74b0ec012">getTailsForSweep</a> (uint64_t sweepId)=0</td></tr>
<tr class="separator:a6656f0693bc57bca882f80b74b0ec012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7505f595d51bf3c299cbcb3bc2cc6729"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a7505f595d51bf3c299cbcb3bc2cc6729">markTailAsConfirmed</a> (const std::string &amp;hash)=0</td></tr>
<tr class="separator:a7505f595d51bf3c299cbcb3bc2cc6729"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafbee3855287266c932db8ab34b7fcc8"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="structhub_1_1db_1_1UserAccountBalanceEvent.html">UserAccountBalanceEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#aafbee3855287266c932db8ab34b7fcc8">getAllUsersAccountBalancesSinceTimePoint</a> (std::chrono::system_clock::time_point newerThan)=0</td></tr>
<tr class="separator:aafbee3855287266c932db8ab34b7fcc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef388b70e0a9f67a3a3d1d315eb71b99"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="structhub_1_1db_1_1UserAddressBalanceEvent.html">UserAddressBalanceEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#aef388b70e0a9f67a3a3d1d315eb71b99">getAllUserAddressesBalancesSinceTimePoint</a> (std::chrono::system_clock::time_point newerThan)=0</td></tr>
<tr class="separator:aef388b70e0a9f67a3a3d1d315eb71b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1338df486ef0e9374d7c14b2610e211e"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="structhub_1_1db_1_1HubAddressBalanceEvent.html">HubAddressBalanceEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a1338df486ef0e9374d7c14b2610e211e">getAllHubAddressesBalancesSinceTimePoint</a> (std::chrono::system_clock::time_point newerThan)=0</td></tr>
<tr class="separator:a1338df486ef0e9374d7c14b2610e211e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f0e418f93c397c0b9c29b58c4391813"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="structhub_1_1db_1_1SweepEvent.html">SweepEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a6f0e418f93c397c0b9c29b58c4391813">getSweeps</a> (std::chrono::system_clock::time_point newerThan)=0</td></tr>
<tr class="separator:a6f0e418f93c397c0b9c29b58c4391813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d0decf2970e002a4eccb1e17bf28409"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a8d0decf2970e002a4eccb1e17bf28409">insertUserTransfers</a> (const std::vector&lt; <a class="el" href="structhub_1_1db_1_1UserTransfer.html">UserTransfer</a> &gt; &amp;transfers)=0</td></tr>
<tr class="separator:a8d0decf2970e002a4eccb1e17bf28409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9fef4153adb3f2f439b6ca7c5ab805b"><td class="memItemLeft" align="right" valign="top">virtual std::map&lt; std::string, int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#aa9fef4153adb3f2f439b6ca7c5ab805b">userIdsFromIdentifiers</a> (const std::set&lt; std::string &gt; &amp;identifiers)=0</td></tr>
<tr class="separator:aa9fef4153adb3f2f439b6ca7c5ab805b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92855e98833af014362e1c8bb0d48f3a"><td class="memItemLeft" align="right" valign="top">virtual std::map&lt; uint64_t, int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a92855e98833af014362e1c8bb0d48f3a">getTotalAmountForUsers</a> (const std::set&lt; uint64_t &gt; &amp;ids)=0</td></tr>
<tr class="separator:a92855e98833af014362e1c8bb0d48f3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fc3b50ec2d2e490ee393a62b33a9a25"><td class="memItemLeft" align="right" valign="top">virtual std::map&lt; uint64_t, int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a9fc3b50ec2d2e490ee393a62b33a9a25">getTotalAmountForAddresses</a> (const std::set&lt; uint64_t &gt; &amp;ids)=0</td></tr>
<tr class="separator:a9fc3b50ec2d2e490ee393a62b33a9a25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7e5b8d7c61d13048d258321ab017e0c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="structhub_1_1db_1_1WithdrawalInfo.html">WithdrawalInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#ab7e5b8d7c61d13048d258321ab017e0c">getWithdrawalInfoFromUUID</a> (const std::string &amp;uuid)=0</td></tr>
<tr class="separator:ab7e5b8d7c61d13048d258321ab017e0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a241a10758a9c4b956b02676ae60b5619"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a241a10758a9c4b956b02676ae60b5619">createHubAddress</a> (const common::crypto::UUID &amp;uuid, const common::crypto::Address &amp;address)=0</td></tr>
<tr class="separator:a241a10758a9c4b956b02676ae60b5619"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b49b14ea531a9280df01e080c1d245b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a8b49b14ea531a9280df01e080c1d245b">createHubAddressBalanceEntry</a> (uint64_t hubAddress, int64_t amount, const <a class="el" href="namespacehub_1_1db.html#abb85b3b20bacc338ecd2f65e91f5469b">HubAddressBalanceReason</a> reason, uint64_t sweepId)=0</td></tr>
<tr class="separator:a8b49b14ea531a9280df01e080c1d245b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af030a67ba1012fc518949c4c4169dcce"><td class="memItemLeft" align="right" valign="top">virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#af030a67ba1012fc518949c4c4169dcce">getHubAddressBalance</a> (uint64_t hubAddress)=0</td></tr>
<tr class="separator:af030a67ba1012fc518949c4c4169dcce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad654492bc4e2a25caad650cbd2f2ecc"><td class="memItemLeft" align="right" valign="top">virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#aad654492bc4e2a25caad650cbd2f2ecc">getUserAddressBalance</a> (uint64_t userAddress)=0</td></tr>
<tr class="separator:aad654492bc4e2a25caad650cbd2f2ecc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8bc51657cbd1fc8ed5caf6626065194"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#ae8bc51657cbd1fc8ed5caf6626065194">createSweep</a> (const common::crypto::Hash &amp;bundleHash, const std::string &amp;bundleTrytes, uint64_t intoHubAddress)=0</td></tr>
<tr class="separator:ae8bc51657cbd1fc8ed5caf6626065194"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa52c7250ccca04b4211eecbaddf83a47"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="structhub_1_1db_1_1TransferOutput.html">TransferOutput</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#aa52c7250ccca04b4211eecbaddf83a47">getWithdrawalsForSweep</a> (size_t max, const std::chrono::system_clock::time_point &amp;olderThan)=0</td></tr>
<tr class="separator:aa52c7250ccca04b4211eecbaddf83a47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3788395276b0899f735a83a514010fe8"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="structhub_1_1db_1_1TransferInput.html">TransferInput</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a3788395276b0899f735a83a514010fe8">getDepositsForSweep</a> (size_t max, const std::chrono::system_clock::time_point &amp;olderThan)=0</td></tr>
<tr class="separator:a3788395276b0899f735a83a514010fe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a132eb33d3669739ca5340387192bd74a"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="structhub_1_1db_1_1TransferInput.html">TransferInput</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a132eb33d3669739ca5340387192bd74a">getHubInputsForSweep</a> (uint64_t requiredAmount, const std::chrono::system_clock::time_point &amp;olderThan)=0</td></tr>
<tr class="separator:a132eb33d3669739ca5340387192bd74a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7069d877c58d8aa08d5ab94a64e3437"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#ac7069d877c58d8aa08d5ab94a64e3437">isSweepConfirmed</a> (uint64_t sweepId)=0</td></tr>
<tr class="separator:ac7069d877c58d8aa08d5ab94a64e3437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba64a5e31db97a2288823220c2f3d41"><td class="memItemLeft" align="right" valign="top">virtual nonstd::optional&lt; <a class="el" href="structhub_1_1db_1_1AddressInfo.html">AddressInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a9ba64a5e31db97a2288823220c2f3d41">getAddressInfo</a> (const common::crypto::Address &amp;address)=0</td></tr>
<tr class="separator:a9ba64a5e31db97a2288823220c2f3d41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a965a1200f0ad38136b24f96928345158"><td class="memItemLeft" align="right" valign="top">virtual nonstd::optional&lt; <a class="el" href="structhub_1_1db_1_1SweepEvent.html">SweepEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a965a1200f0ad38136b24f96928345158">getSweepByWithdrawalUUID</a> (const std::string &amp;uuid)=0</td></tr>
<tr class="separator:a965a1200f0ad38136b24f96928345158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a718b417085693ab0c2e06c7f1574e882"><td class="memItemLeft" align="right" valign="top">virtual nonstd::optional&lt; <a class="el" href="structhub_1_1db_1_1SweepEvent.html">SweepEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a718b417085693ab0c2e06c7f1574e882">getSweepByBundleHash</a> (const common::crypto::Hash &amp;bundleHash)=0</td></tr>
<tr class="separator:a718b417085693ab0c2e06c7f1574e882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0345b9d6ac669b0a7999ec00046feeed"><td class="memItemLeft" align="right" valign="top">virtual nonstd::optional&lt; <a class="el" href="structhub_1_1db_1_1SweepDetail.html">SweepDetail</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a0345b9d6ac669b0a7999ec00046feeed">getSweepDetailByBundleHash</a> (const common::crypto::Hash &amp;bundleHash)=0</td></tr>
<tr class="separator:a0345b9d6ac669b0a7999ec00046feeed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ad62ea66562b32a1ce6143d53082ab8c5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#ad62ea66562b32a1ce6143d53082ab8c5">execute</a> (const std::string &amp;what)=0</td></tr>
<tr class="separator:ad62ea66562b32a1ce6143d53082ab8c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a315ba598d0087d155925c5d91b4090dd"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#a315ba598d0087d155925c5d91b4090dd">DBManager</a></td></tr>
<tr class="separator:a315ba598d0087d155925c5d91b4090dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classhub_1_1db_1_1Connection.html" title="Connection abstract class. ">Connection</a> abstract class. </p>
<p>Provides a high level interface to the database. </p>

<p class="definition">Definition at line <a class="el" href="connection_8h_source.html#l00043">43</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="afa12d65ffc943d8b539821f6dc011e72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa12d65ffc943d8b539821f6dc011e72">&#9670;&nbsp;</a></span>~Connection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual hub::db::Connection::~Connection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

<p class="definition">Definition at line <a class="el" href="connection_8h_source.html#l00046">46</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab6ed9b5d63bf98c07d8ebd37f9a00e8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6ed9b5d63bf98c07d8ebd37f9a00e8d">&#9670;&nbsp;</a></span>availableBalanceForUser()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint64_t hub::db::Connection::availableBalanceForUser </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>userId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the available balance for a user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">userId</td><td>- the DB userId </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint64_t - Available balance or 0 if none </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ac56dede4f0fec8aee89b4e88c10d676d">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ac56dede4f0fec8aee89b4e88c10d676d">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ac56dede4f0fec8aee89b4e88c10d676d">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a2ac9265482dbc6ec18c97434b6ac8ede"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ac9265482dbc6ec18c97434b6ac8ede">&#9670;&nbsp;</a></span>cancelWithdrawal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t hub::db::Connection::cancelWithdrawal </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>uuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancel a withdrawal operation (if not already processed) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>- the common::crypto::UUID identifier of the withdrawal </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size_t - 1 if successful </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a043362a3c17f1a79e67b32b667359c9f">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a043362a3c17f1a79e67b32b667359c9f">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a043362a3c17f1a79e67b32b667359c9f">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a241a10758a9c4b956b02676ae60b5619"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a241a10758a9c4b956b02676ae60b5619">&#9670;&nbsp;</a></span>createHubAddress()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t hub::db::Connection::createHubAddress </td>
          <td>(</td>
          <td class="paramtype">const common::crypto::UUID &amp;&#160;</td>
          <td class="paramname"><em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const common::crypto::Address &amp;&#160;</td>
          <td class="paramname"><em>address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new hub address from a UUID and IOTA address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>- a common::crypto::UUID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>- an address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int64_t - 1 on success </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ad294df86034636a5ae093c8d5df9f756">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ad294df86034636a5ae093c8d5df9f756">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ad294df86034636a5ae093c8d5df9f756">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a8b49b14ea531a9280df01e080c1d245b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b49b14ea531a9280df01e080c1d245b">&#9670;&nbsp;</a></span>createHubAddressBalanceEntry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void hub::db::Connection::createHubAddressBalanceEntry </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>hubAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacehub_1_1db.html#abb85b3b20bacc338ecd2f65e91f5469b">HubAddressBalanceReason</a>&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sweepId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new hub address balance record with a specific amount. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hubAddress</td><td>- the hub address id in the database </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">amount</td><td>- the amount </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reason</td><td>- a UserAddressBalanceReason, the reason </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sweepId</td><td>- the sweepId if the creation results from a sweep </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a9353afdff8771795bd4c8f303120e3a7">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a9353afdff8771795bd4c8f303120e3a7">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a9353afdff8771795bd4c8f303120e3a7">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="ae8bc51657cbd1fc8ed5caf6626065194"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8bc51657cbd1fc8ed5caf6626065194">&#9670;&nbsp;</a></span>createSweep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t hub::db::Connection::createSweep </td>
          <td>(</td>
          <td class="paramtype">const common::crypto::Hash &amp;&#160;</td>
          <td class="paramname"><em>bundleHash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>bundleTrytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>intoHubAddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new sweep. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bundleHash</td><td>- the hash of the bundle for which a sweep is created </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bundleTrytes</td><td>- the serialized bundle in trytes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">intoHubAddress</td><td>- the hub address for remainder if any </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int64_t - the database id of the new sweep </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#af9222343d4f897d8ee72c054cbb35684">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#af9222343d4f897d8ee72c054cbb35684">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#af9222343d4f897d8ee72c054cbb35684">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="ad71ce609db504855e795ed24f3a05057"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad71ce609db504855e795ed24f3a05057">&#9670;&nbsp;</a></span>createTail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void hub::db::Connection::createTail </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sweepId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>hash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a tail for a given sweep. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sweepId</td><td>- the id of the sweep for which to create a tail </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hash</td><td>- the tail hash </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a7f527abfd7ffe92b266d411468c44b6e">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a7f527abfd7ffe92b266d411468c44b6e">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a7f527abfd7ffe92b266d411468c44b6e">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="abc3f05101f2ee29ac4c374a2f35d8bb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc3f05101f2ee29ac4c374a2f35d8bb9">&#9670;&nbsp;</a></span>createUser()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void hub::db::Connection::createUser </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>identifier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inserts a new user in the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">identifier</td><td>- a std::string user identifier </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#afec534687650575722c0162dcce3b4df">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#afec534687650575722c0162dcce3b4df">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#afec534687650575722c0162dcce3b4df">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="ad6ca81200b8a89043e602d8c1ea1c6ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6ca81200b8a89043e602d8c1ea1c6ff">&#9670;&nbsp;</a></span>createUserAccountBalanceEntry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void hub::db::Connection::createUserAccountBalanceEntry </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacehub_1_1db.html#ac42d10758bc8b6599297b15880d11159">UserAccountBalanceReason</a>&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const nonstd::optional&lt; uint64_t &gt;&#160;</td>
          <td class="paramname"><em>fkey</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new user account balance entry in the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">userId</td><td>- the user id in the database </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">amount</td><td>- a int64_t, the amount to withdraw </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reason</td><td>- a UserAddressBalanceReason, the reason </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fkey</td><td>- the key used to create a new IOTA address </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ad13f23c51a4b557b7cd9a9a4ca7705af">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ad13f23c51a4b557b7cd9a9a4ca7705af">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ad13f23c51a4b557b7cd9a9a4ca7705af">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a47ab93219e93fc11482a2f41c5489e23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47ab93219e93fc11482a2f41c5489e23">&#9670;&nbsp;</a></span>createUserAddress()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint64_t hub::db::Connection::createUserAddress </td>
          <td>(</td>
          <td class="paramtype">const common::crypto::Address &amp;&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const common::crypto::UUID &amp;&#160;</td>
          <td class="paramname"><em>uuid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inserts a new user address entry in the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>- a common::crypto::Address, an IOTA address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">userId</td><td>- the user id in the database </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>- a common::crypto::UUID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint64_t - The id of the new address in the database </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#adf14744ce8b02b5e97a62f0229aa3aeb">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#adf14744ce8b02b5e97a62f0229aa3aeb">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#adf14744ce8b02b5e97a62f0229aa3aeb">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a010a4e491b9ad3a5587465b347a1bc4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a010a4e491b9ad3a5587465b347a1bc4e">&#9670;&nbsp;</a></span>createUserAddressBalanceEntry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void hub::db::Connection::createUserAddressBalanceEntry </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>addressId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacehub_1_1db.html#af0c76d08c7cec60044a454beb22f58b9">UserAddressBalanceReason</a>&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nonstd::optional&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>tailHash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nonstd::optional&lt; uint64_t &gt;&#160;</td>
          <td class="paramname"><em>sweepId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inserts a new user address balance entry in the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addressId</td><td>- a uint64_t, the id of the address in the database </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">amount</td><td>- a int64_t, the balance amount to store </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reason</td><td>- a UserAddressBalanceReason, the reason </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tailHash</td><td>- tailHash of the correpsonding transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sweepId</td><td>- if the new balance is the result of a sweep </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a982bee7e5944ab8fc7e9625e6b7dddb4">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a982bee7e5944ab8fc7e9625e6b7dddb4">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a982bee7e5944ab8fc7e9625e6b7dddb4">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a6b6382409fd94e3f33b6bea395e8abb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b6382409fd94e3f33b6bea395e8abb6">&#9670;&nbsp;</a></span>createWithdrawal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint64_t hub::db::Connection::createWithdrawal </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const common::crypto::Tag &amp;&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const common::crypto::Address &amp;&#160;</td>
          <td class="paramname"><em>payoutAddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a withdrawal entry for the user at from given address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>- the common::crypto::UUID identifier of the withdrawal </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">userId</td><td>- the user id in the database </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">amount</td><td>- a int64_t, the amount to withdraw </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tag</td><td>- the tag to use for the withdrawal </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payoutAddress</td><td>- a common::crypto::Address, the IOTA to address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint64_t - 1 if successful </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a6528ede7945dc1e1936c7e2dbc8b9e2e">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a6528ede7945dc1e1936c7e2dbc8b9e2e">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a6528ede7945dc1e1936c7e2dbc8b9e2e">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="ad62ea66562b32a1ce6143d53082ab8c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad62ea66562b32a1ce6143d53082ab8c5">&#9670;&nbsp;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void hub::db::Connection::execute </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>what</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a4523a0534de8a288d5a538fe974e77f2">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a4523a0534de8a288d5a538fe974e77f2">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a4523a0534de8a288d5a538fe974e77f2">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a9ba64a5e31db97a2288823220c2f3d41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ba64a5e31db97a2288823220c2f3d41">&#9670;&nbsp;</a></span>getAddressInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual nonstd::optional&lt;<a class="el" href="structhub_1_1db_1_1AddressInfo.html">AddressInfo</a>&gt; hub::db::Connection::getAddressInfo </td>
          <td>(</td>
          <td class="paramtype">const common::crypto::Address &amp;&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Provides information on an address if available. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>- the address to provide info on </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nonstd::optional&lt;AddressInfo&gt; - the information if available </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a226846068d1a9a770498586147d9808a">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a226846068d1a9a770498586147d9808a">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a226846068d1a9a770498586147d9808a">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a1338df486ef0e9374d7c14b2610e211e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1338df486ef0e9374d7c14b2610e211e">&#9670;&nbsp;</a></span>getAllHubAddressesBalancesSinceTimePoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt;<a class="el" href="structhub_1_1db_1_1HubAddressBalanceEvent.html">HubAddressBalanceEvent</a>&gt; hub::db::Connection::getAllHubAddressesBalancesSinceTimePoint </td>
          <td>(</td>
          <td class="paramtype">std::chrono::system_clock::time_point&#160;</td>
          <td class="paramname"><em>newerThan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of hub address balances from a point in time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">newerThan</td><td>- the start point in time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of <a class="el" href="structhub_1_1db_1_1HubAddressBalanceEvent.html">HubAddressBalanceEvent</a> </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aa6dc93c2085b3712def50ca0530d990e">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aa6dc93c2085b3712def50ca0530d990e">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aa6dc93c2085b3712def50ca0530d990e">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="aef388b70e0a9f67a3a3d1d315eb71b99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef388b70e0a9f67a3a3d1d315eb71b99">&#9670;&nbsp;</a></span>getAllUserAddressesBalancesSinceTimePoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt;<a class="el" href="structhub_1_1db_1_1UserAddressBalanceEvent.html">UserAddressBalanceEvent</a>&gt; hub::db::Connection::getAllUserAddressesBalancesSinceTimePoint </td>
          <td>(</td>
          <td class="paramtype">std::chrono::system_clock::time_point&#160;</td>
          <td class="paramname"><em>newerThan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of user address balances from a point in time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">newerThan</td><td>- the start point in time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of <a class="el" href="structhub_1_1db_1_1UserAddressBalanceEvent.html">UserAddressBalanceEvent</a> </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a08c2bcdef10059c455f72f622c2b7077">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a08c2bcdef10059c455f72f622c2b7077">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a08c2bcdef10059c455f72f622c2b7077">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="aafbee3855287266c932db8ab34b7fcc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafbee3855287266c932db8ab34b7fcc8">&#9670;&nbsp;</a></span>getAllUsersAccountBalancesSinceTimePoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt;<a class="el" href="structhub_1_1db_1_1UserAccountBalanceEvent.html">UserAccountBalanceEvent</a>&gt; hub::db::Connection::getAllUsersAccountBalancesSinceTimePoint </td>
          <td>(</td>
          <td class="paramtype">std::chrono::system_clock::time_point&#160;</td>
          <td class="paramname"><em>newerThan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of account balances from a point in time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">newerThan</td><td>- the start point in time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of <a class="el" href="structhub_1_1db_1_1UserAccountBalanceEvent.html">UserAccountBalanceEvent</a> </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ae809ac517856dc5547f4ef237d5c0928">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ae809ac517856dc5547f4ef237d5c0928">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ae809ac517856dc5547f4ef237d5c0928">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a3788395276b0899f735a83a514010fe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3788395276b0899f735a83a514010fe8">&#9670;&nbsp;</a></span>getDepositsForSweep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt;<a class="el" href="structhub_1_1db_1_1TransferInput.html">TransferInput</a>&gt; hub::db::Connection::getDepositsForSweep </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::chrono::system_clock::time_point &amp;&#160;</td>
          <td class="paramname"><em>olderThan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a list of deposits up to a point in time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">max</td><td>- max number of deposits to return </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">olderThan</td><td>- the cutoff point in time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of <a class="el" href="structhub_1_1db_1_1TransferInput.html">TransferInput</a> </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a10f8d65d0674edeefdf7e57ec2c533cb">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a10f8d65d0674edeefdf7e57ec2c533cb">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a10f8d65d0674edeefdf7e57ec2c533cb">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="af030a67ba1012fc518949c4c4169dcce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af030a67ba1012fc518949c4c4169dcce">&#9670;&nbsp;</a></span>getHubAddressBalance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint64_t hub::db::Connection::getHubAddressBalance </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>hubAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get hub address balance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hubAddress</td><td>- the hub address id in the database </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int64_t - the balance </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a675f3ec0d4a9970ae854f0a4af0275af">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a675f3ec0d4a9970ae854f0a4af0275af">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a675f3ec0d4a9970ae854f0a4af0275af">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a132eb33d3669739ca5340387192bd74a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a132eb33d3669739ca5340387192bd74a">&#9670;&nbsp;</a></span>getHubInputsForSweep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt;<a class="el" href="structhub_1_1db_1_1TransferInput.html">TransferInput</a>&gt; hub::db::Connection::getHubInputsForSweep </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>requiredAmount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::chrono::system_clock::time_point &amp;&#160;</td>
          <td class="paramname"><em>olderThan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a list of hub inputs up to a point in time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">requiredAmount</td><td>- the required total amount to obtain </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">olderThan</td><td>- the cutoff point in time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of <a class="el" href="structhub_1_1db_1_1TransferInput.html">TransferInput</a> </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#acc99025d922dc25eec53e23ab065c758">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#acc99025d922dc25eec53e23ab065c758">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#acc99025d922dc25eec53e23ab065c758">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a718b417085693ab0c2e06c7f1574e882"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a718b417085693ab0c2e06c7f1574e882">&#9670;&nbsp;</a></span>getSweepByBundleHash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual nonstd::optional&lt;<a class="el" href="structhub_1_1db_1_1SweepEvent.html">SweepEvent</a>&gt; hub::db::Connection::getSweepByBundleHash </td>
          <td>(</td>
          <td class="paramtype">const common::crypto::Hash &amp;&#160;</td>
          <td class="paramname"><em>bundleHash</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Looks up a sweep by bundle hash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bundleHash</td><td>- the bundle hash to use for the lookup. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nonstd::optional&lt;SweepEvent&gt; - the sweep if found </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a2b32c92b03f89e7cbc890494c1603986">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a2b32c92b03f89e7cbc890494c1603986">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a2b32c92b03f89e7cbc890494c1603986">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a965a1200f0ad38136b24f96928345158"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a965a1200f0ad38136b24f96928345158">&#9670;&nbsp;</a></span>getSweepByWithdrawalUUID()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual nonstd::optional&lt;<a class="el" href="structhub_1_1db_1_1SweepEvent.html">SweepEvent</a>&gt; hub::db::Connection::getSweepByWithdrawalUUID </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>uuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Looks up a sweep by a withdrawal UUID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>- the withdrawal UUID to use for the lookup. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nonstd::optional&lt;SweepEvent&gt; - the sweep if found </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a7776cc892af1b0ad6d7b036fdcde0bb7">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a7776cc892af1b0ad6d7b036fdcde0bb7">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a7776cc892af1b0ad6d7b036fdcde0bb7">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a0345b9d6ac669b0a7999ec00046feeed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0345b9d6ac669b0a7999ec00046feeed">&#9670;&nbsp;</a></span>getSweepDetailByBundleHash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual nonstd::optional&lt;<a class="el" href="structhub_1_1db_1_1SweepDetail.html">SweepDetail</a>&gt; hub::db::Connection::getSweepDetailByBundleHash </td>
          <td>(</td>
          <td class="paramtype">const common::crypto::Hash &amp;&#160;</td>
          <td class="paramname"><em>bundleHash</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Looks up a sweep by bundle hash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bundleHash</td><td>- the bundle hash to use for the lookup. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nonstd::optional&lt;SweepDetail&gt; - the sweep details if found </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aec49081e2f322ecd7aed398dacd16a0f">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aec49081e2f322ecd7aed398dacd16a0f">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aec49081e2f322ecd7aed398dacd16a0f">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a6f0e418f93c397c0b9c29b58c4391813"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f0e418f93c397c0b9c29b58c4391813">&#9670;&nbsp;</a></span>getSweeps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt;<a class="el" href="structhub_1_1db_1_1SweepEvent.html">SweepEvent</a>&gt; hub::db::Connection::getSweeps </td>
          <td>(</td>
          <td class="paramtype">std::chrono::system_clock::time_point&#160;</td>
          <td class="paramname"><em>newerThan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a list of sweeps with withdrawals from a point in time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">newerThan</td><td>- the start point in time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of <a class="el" href="structhub_1_1db_1_1SweepEvent.html">SweepEvent</a> </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a8100e5965127fbe1b27d4c3d74a94971">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a8100e5965127fbe1b27d4c3d74a94971">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a8100e5965127fbe1b27d4c3d74a94971">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a6656f0693bc57bca882f80b74b0ec012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6656f0693bc57bca882f80b74b0ec012">&#9670;&nbsp;</a></span>getTailsForSweep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt;<a class="el" href="structhub_1_1db_1_1SweepTail.html">SweepTail</a>&gt; hub::db::Connection::getTailsForSweep </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sweepId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of tails for a sweep. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sweepId</td><td>- the id of the sweep for which to create a tail </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of SweepTail-s </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#abf8afdfc0c882a0cf2b9cbee357700cc">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#abf8afdfc0c882a0cf2b9cbee357700cc">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#abf8afdfc0c882a0cf2b9cbee357700cc">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a9fc3b50ec2d2e490ee393a62b33a9a25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fc3b50ec2d2e490ee393a62b33a9a25">&#9670;&nbsp;</a></span>getTotalAmountForAddresses()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::map&lt;uint64_t, int64_t&gt; hub::db::Connection::getTotalAmountForAddresses </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; uint64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets current ammount for a list of user addresses. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ids</td><td>- a list of UserAddressId </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of pairs UserAddressId/amount </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a81632b4e879cf83989e8f21640a4d2ca">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a81632b4e879cf83989e8f21640a4d2ca">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a81632b4e879cf83989e8f21640a4d2ca">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a92855e98833af014362e1c8bb0d48f3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92855e98833af014362e1c8bb0d48f3a">&#9670;&nbsp;</a></span>getTotalAmountForUsers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::map&lt;uint64_t, int64_t&gt; hub::db::Connection::getTotalAmountForUsers </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; uint64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets current balances for a list of users. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ids</td><td>- a list of userIds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of pairs UserAccountId/balance </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ad64b5810ba91826e094b4ac89559bd36">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ad64b5810ba91826e094b4ac89559bd36">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ad64b5810ba91826e094b4ac89559bd36">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a3db94ffe3e793fff44091db8c10ceac6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3db94ffe3e793fff44091db8c10ceac6">&#9670;&nbsp;</a></span>getUnconfirmedSweeps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt;<a class="el" href="structhub_1_1db_1_1Sweep.html">Sweep</a>&gt; hub::db::Connection::getUnconfirmedSweeps </td>
          <td>(</td>
          <td class="paramtype">const std::chrono::system_clock::time_point &amp;&#160;</td>
          <td class="paramname"><em>olderThan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of unconfirmed sweeps. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">olderThan</td><td>- the cutoff point in time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of unconfirmed <a class="el" href="structhub_1_1db_1_1Sweep.html">Sweep</a> older than olderThan </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aad26906d49d7cc08744069d30caf2db4">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aad26906d49d7cc08744069d30caf2db4">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aad26906d49d7cc08744069d30caf2db4">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="ab67b4371f7634154f102f17b42fd0111"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab67b4371f7634154f102f17b42fd0111">&#9670;&nbsp;</a></span>getUserAccountBalances()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt;<a class="el" href="structhub_1_1db_1_1UserAccountBalanceEvent.html">UserAccountBalanceEvent</a>&gt; hub::db::Connection::getUserAccountBalances </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>userId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of account balances for a user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">userId</td><td>- the user id in the database </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of <a class="el" href="structhub_1_1db_1_1UserAccountBalanceEvent.html">UserAccountBalanceEvent</a> for this user </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a4215f8e8181a09f3934437b99d87d2e3">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a4215f8e8181a09f3934437b99d87d2e3">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a4215f8e8181a09f3934437b99d87d2e3">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="aad654492bc4e2a25caad650cbd2f2ecc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad654492bc4e2a25caad650cbd2f2ecc">&#9670;&nbsp;</a></span>getUserAddressBalance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint64_t hub::db::Connection::getUserAddressBalance </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>userAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get user address balance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">userAddress</td><td>- the user address id in the database </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int64_t - the balance </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a7782415ea29592db9dbdbc333c04d94c">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a7782415ea29592db9dbdbc333c04d94c">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a7782415ea29592db9dbdbc333c04d94c">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="ab7e5b8d7c61d13048d258321ab017e0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7e5b8d7c61d13048d258321ab017e0c">&#9670;&nbsp;</a></span>getWithdrawalInfoFromUUID()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="structhub_1_1db_1_1WithdrawalInfo.html">WithdrawalInfo</a> hub::db::Connection::getWithdrawalInfoFromUUID </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>uuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets info for a given withdrawal operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>- the common::crypto::UUID identifier of the withdrawal </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structhub_1_1db_1_1WithdrawalInfo.html">WithdrawalInfo</a> - info on the withdrawal </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a3443a68878e6ff6071734f48f15197b8">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a3443a68878e6ff6071734f48f15197b8">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a3443a68878e6ff6071734f48f15197b8">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="aa52c7250ccca04b4211eecbaddf83a47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa52c7250ccca04b4211eecbaddf83a47">&#9670;&nbsp;</a></span>getWithdrawalsForSweep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt;<a class="el" href="structhub_1_1db_1_1TransferOutput.html">TransferOutput</a>&gt; hub::db::Connection::getWithdrawalsForSweep </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::chrono::system_clock::time_point &amp;&#160;</td>
          <td class="paramname"><em>olderThan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a list of withdrawals up to a point in time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">max</td><td>- max number of withdrawals to return </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">olderThan</td><td>- the cutoff point in time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of <a class="el" href="structhub_1_1db_1_1TransferOutput.html">TransferOutput</a> </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a6b2a36923b5e666d4f4587976b03ef4c">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a6b2a36923b5e666d4f4587976b03ef4c">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a6b2a36923b5e666d4f4587976b03ef4c">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a8d0decf2970e002a4eccb1e17bf28409"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d0decf2970e002a4eccb1e17bf28409">&#9670;&nbsp;</a></span>insertUserTransfers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void hub::db::Connection::insertUserTransfers </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structhub_1_1db_1_1UserTransfer.html">UserTransfer</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>transfers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inserts new UserAccountBalance records from batch of transfers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">transfers</td><td>- a list of <a class="el" href="structhub_1_1db_1_1UserTransfer.html">UserTransfer</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a016fe339762b3f728fe88346a26220f1">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a016fe339762b3f728fe88346a26220f1">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a016fe339762b3f728fe88346a26220f1">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="ac7069d877c58d8aa08d5ab94a64e3437"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7069d877c58d8aa08d5ab94a64e3437">&#9670;&nbsp;</a></span>isSweepConfirmed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool hub::db::Connection::isSweepConfirmed </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sweepId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sweepId</td><td>- the sweepId if the creation results from a sweep </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool - true if sweep is confirmed </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a55a55d262de33b4fc8d24002a33ec377">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a55a55d262de33b4fc8d24002a33ec377">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a55a55d262de33b4fc8d24002a33ec377">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a7505f595d51bf3c299cbcb3bc2cc6729"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7505f595d51bf3c299cbcb3bc2cc6729">&#9670;&nbsp;</a></span>markTailAsConfirmed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void hub::db::Connection::markTailAsConfirmed </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>hash</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mark a sweep tail as confirmed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hash</td><td>- the tail hash </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a94965bef1a445c0969577446e1b0693a">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a94965bef1a445c0969577446e1b0693a">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a94965bef1a445c0969577446e1b0693a">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="acc3dcc8f8252e79c615faea85d7a5d01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc3dcc8f8252e79c615faea85d7a5d01">&#9670;&nbsp;</a></span>markUUIDAsSigned()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void hub::db::Connection::markUUIDAsSigned </td>
          <td>(</td>
          <td class="paramtype">const common::crypto::UUID &amp;&#160;</td>
          <td class="paramname"><em>uuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mark a given UUID as signed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>- the common::crypto::UUID to mark as signed </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a3ab452ff539c6f779489adace3a32696">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a3ab452ff539c6f779489adace3a32696">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a3ab452ff539c6f779489adace3a32696">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a5bedb1b8b96c2ecf16ac26e9a097b30e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bedb1b8b96c2ecf16ac26e9a097b30e">&#9670;&nbsp;</a></span>selectFirstUserAddress()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual nonstd::optional&lt;<a class="el" href="namespacehub_1_1db.html#a21f2d2c0a917e8ee7792c3826af25402">AddressWithUUID</a>&gt; hub::db::Connection::selectFirstUserAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the first available UserAddress from the database. </p>
<dl class="section return"><dt>Returns</dt><dd>AddressWithUUID - a UUID,address pair if any, empty if table empty </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a5ac0a6cc2a33dbee76b5ecc3155c2142">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a5ac0a6cc2a33dbee76b5ecc3155c2142">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a5ac0a6cc2a33dbee76b5ecc3155c2142">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a95bd53ca4833cf66517aa71e441da711"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95bd53ca4833cf66517aa71e441da711">&#9670;&nbsp;</a></span>setWithdrawalSweep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t hub::db::Connection::setWithdrawalSweep </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sweepId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancel a withdrawal operation (if not already processed) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>- the database id of the withdrawal in the database </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sweepId</td><td>- the sweepId </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size_t - 1 if successful </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aafce997b8c9f13519786ed84611d8a27">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aafce997b8c9f13519786ed84611d8a27">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aafce997b8c9f13519786ed84611d8a27">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="af579df38ddfbf1ad4d055fc8660deb57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af579df38ddfbf1ad4d055fc8660deb57">&#9670;&nbsp;</a></span>tailsForUserAddresses()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::unordered_multimap&lt;uint64_t, std::string&gt; hub::db::Connection::tailsForUserAddresses </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; uint64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>userIds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find all the user addresses that haven't been swept yet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">userIds</td><td>- a vector of userIds to query </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::unordered_multimap - a map of userId to addresses </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aa02bf20bc6470d60c69fa46463a6fe69">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aa02bf20bc6470d60c69fa46463a6fe69">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aa02bf20bc6470d60c69fa46463a6fe69">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="ad793aac29875b3a8ebe2bac7abc4b1bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad793aac29875b3a8ebe2bac7abc4b1bd">&#9670;&nbsp;</a></span>transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::unique_ptr&lt;<a class="el" href="classhub_1_1db_1_1Transaction.html">Transaction</a>&gt; hub::db::Connection::transaction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a transaction context compatible with the current database type. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classhub_1_1db_1_1Transaction.html" title="Transaction abstract class. ">Transaction</a> - a transaction context </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a4d80206b06ff0db7946cd73bea9cc095">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a4d80206b06ff0db7946cd73bea9cc095">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a4d80206b06ff0db7946cd73bea9cc095">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="af6455f92f85f5859a8d6d0e3ce177555"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6455f92f85f5859a8d6d0e3ce177555">&#9670;&nbsp;</a></span>unsweptUserAddresses()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt;<a class="el" href="namespacehub_1_1db.html#abd45532e1f686cf43a0f30fb217b4572">AddressWithID</a>&gt; hub::db::Connection::unsweptUserAddresses </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find all the user addresses that haven't been swept yet. </p>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of non swept AddressWithID </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a59b76752aad088ec6e4e157ab6e9530e">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a59b76752aad088ec6e4e157ab6e9530e">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a59b76752aad088ec6e4e157ab6e9530e">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="a079cf68d650cd959a8cdd8c4e7ceb45c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a079cf68d650cd959a8cdd8c4e7ceb45c">&#9670;&nbsp;</a></span>userIdFromIdentifier()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual nonstd::optional&lt;int64_t&gt; hub::db::Connection::userIdFromIdentifier </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>identifier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">identifier</td><td>- a std::string user identifier </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int64_t - a user id or null if no user exists for the identifier </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aac0ee1e88b765c89823b4e9b4f1320f2">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aac0ee1e88b765c89823b4e9b4f1320f2">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aac0ee1e88b765c89823b4e9b4f1320f2">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<a id="aa9fef4153adb3f2f439b6ca7c5ab805b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9fef4153adb3f2f439b6ca7c5ab805b">&#9670;&nbsp;</a></span>userIdsFromIdentifiers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::map&lt;std::string, int64_t&gt; hub::db::Connection::userIdsFromIdentifiers </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>identifiers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets database userIds from user identifiers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">identifiers</td><td>- a list of user identifiers </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of pairs identifier/userId </dd></dl>

<p>Implemented in <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a188789645163dde28627a201405e5d86">hub::db::ConnectionImpl&lt; Conn, Conf &gt;</a>, <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a188789645163dde28627a201405e5d86">hub::db::ConnectionImpl&lt; sqlpp::mysql::connection, sqlpp::mysql::connection_config &gt;</a>, and <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a188789645163dde28627a201405e5d86">hub::db::ConnectionImpl&lt; sqlpp::sqlite3::connection, sqlpp::sqlite3::connection_config &gt;</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a315ba598d0087d155925c5d91b4090dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a315ba598d0087d155925c5d91b4090dd">&#9670;&nbsp;</a></span>DBManager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classhub_1_1db_1_1DBManager.html">DBManager</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8h_source.html#l00304">304</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="connection_8h_source.html">connection.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacehub.html">hub</a></li><li class="navelem"><a class="el" href="namespacehub_1_1db.html">db</a></li><li class="navelem"><a class="el" href="classhub_1_1db_1_1Connection.html">Connection</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
