<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RPCHub: hub::db::ConnectionImpl&lt; Conn, Conf &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RPCHub
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classhub_1_1db_1_1ConnectionImpl.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classhub_1_1db_1_1ConnectionImpl-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">hub::db::ConnectionImpl&lt; Conn, Conf &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for hub::db::ConnectionImpl&lt; Conn, Conf &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classhub_1_1db_1_1ConnectionImpl__inherit__graph.png" border="0" usemap="#hub_1_1db_1_1ConnectionImpl_3_01Conn_00_01Conf_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="hub_1_1db_1_1ConnectionImpl_3_01Conn_00_01Conf_01_4_inherit__map" id="hub_1_1db_1_1ConnectionImpl_3_01Conn_00_01Conf_01_4_inherit__map">
<area shape="rect" id="node2" href="classhub_1_1db_1_1Connection.html" title="Connection abstract class. " alt="" coords="20,5,171,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for hub::db::ConnectionImpl&lt; Conn, Conf &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classhub_1_1db_1_1ConnectionImpl__coll__graph.png" border="0" usemap="#hub_1_1db_1_1ConnectionImpl_3_01Conn_00_01Conf_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="hub_1_1db_1_1ConnectionImpl_3_01Conn_00_01Conf_01_4_coll__map" id="hub_1_1db_1_1ConnectionImpl_3_01Conn_00_01Conf_01_4_coll__map">
<area shape="rect" id="node2" href="classhub_1_1db_1_1Connection.html" title="Connection abstract class. " alt="" coords="20,5,171,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af4bb61e4c2770cac9e009a0732dd7ddd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#af4bb61e4c2770cac9e009a0732dd7ddd">ConnectionImpl</a> (const <a class="el" href="structhub_1_1db_1_1Config.html">Config</a> &amp;config)</td></tr>
<tr class="separator:af4bb61e4c2770cac9e009a0732dd7ddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61e0f7b4e710eea467f4eecd0d1bd51d"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; Conn &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a61e0f7b4e710eea467f4eecd0d1bd51d">fromConfig</a> (const <a class="el" href="structhub_1_1db_1_1Config.html">Config</a> &amp;config)</td></tr>
<tr class="separator:a61e0f7b4e710eea467f4eecd0d1bd51d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d80206b06ff0db7946cd73bea9cc095"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classhub_1_1db_1_1Transaction.html">Transaction</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a4d80206b06ff0db7946cd73bea9cc095">transaction</a> () override</td></tr>
<tr class="separator:a4d80206b06ff0db7946cd73bea9cc095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec534687650575722c0162dcce3b4df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#afec534687650575722c0162dcce3b4df">createUser</a> (const std::string &amp;identifier) override</td></tr>
<tr class="separator:afec534687650575722c0162dcce3b4df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac0ee1e88b765c89823b4e9b4f1320f2"><td class="memItemLeft" align="right" valign="top">nonstd::optional&lt; int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aac0ee1e88b765c89823b4e9b4f1320f2">userIdFromIdentifier</a> (const std::string &amp;identifier) override</td></tr>
<tr class="separator:aac0ee1e88b765c89823b4e9b4f1320f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59b76752aad088ec6e4e157ab6e9530e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="namespacehub_1_1db.html#abd45532e1f686cf43a0f30fb217b4572">AddressWithID</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a59b76752aad088ec6e4e157ab6e9530e">unsweptUserAddresses</a> () override</td></tr>
<tr class="separator:a59b76752aad088ec6e4e157ab6e9530e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa02bf20bc6470d60c69fa46463a6fe69"><td class="memItemLeft" align="right" valign="top">std::unordered_multimap&lt; uint64_t, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aa02bf20bc6470d60c69fa46463a6fe69">tailsForUserAddresses</a> (const std::vector&lt; uint64_t &gt; &amp;userIds) override</td></tr>
<tr class="separator:aa02bf20bc6470d60c69fa46463a6fe69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac56dede4f0fec8aee89b4e88c10d676d"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ac56dede4f0fec8aee89b4e88c10d676d">availableBalanceForUser</a> (uint64_t userId) override</td></tr>
<tr class="separator:ac56dede4f0fec8aee89b4e88c10d676d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf14744ce8b02b5e97a62f0229aa3aeb"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#adf14744ce8b02b5e97a62f0229aa3aeb">createUserAddress</a> (const common::crypto::Address &amp;address, uint64_t userId, const common::crypto::UUID &amp;uuid) override</td></tr>
<tr class="separator:adf14744ce8b02b5e97a62f0229aa3aeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a982bee7e5944ab8fc7e9625e6b7dddb4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a982bee7e5944ab8fc7e9625e6b7dddb4">createUserAddressBalanceEntry</a> (uint64_t addressId, int64_t amount, const <a class="el" href="namespacehub_1_1db.html#af0c76d08c7cec60044a454beb22f58b9">UserAddressBalanceReason</a> reason, nonstd::optional&lt; std::string &gt; tailHash, nonstd::optional&lt; uint64_t &gt; sweepId) override</td></tr>
<tr class="separator:a982bee7e5944ab8fc7e9625e6b7dddb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad13f23c51a4b557b7cd9a9a4ca7705af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ad13f23c51a4b557b7cd9a9a4ca7705af">createUserAccountBalanceEntry</a> (uint64_t userId, int64_t amount, const <a class="el" href="namespacehub_1_1db.html#ac42d10758bc8b6599297b15880d11159">UserAccountBalanceReason</a> reason, const nonstd::optional&lt; uint64_t &gt; fkey={}) override</td></tr>
<tr class="separator:ad13f23c51a4b557b7cd9a9a4ca7705af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6528ede7945dc1e1936c7e2dbc8b9e2e"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a6528ede7945dc1e1936c7e2dbc8b9e2e">createWithdrawal</a> (const std::string &amp;uuid, uint64_t userId, uint64_t amount, const common::crypto::Tag &amp;tag, const common::crypto::Address &amp;payoutAddress) override</td></tr>
<tr class="separator:a6528ede7945dc1e1936c7e2dbc8b9e2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a043362a3c17f1a79e67b32b667359c9f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a043362a3c17f1a79e67b32b667359c9f">cancelWithdrawal</a> (const std::string &amp;uuid) override</td></tr>
<tr class="separator:a043362a3c17f1a79e67b32b667359c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafce997b8c9f13519786ed84611d8a27"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aafce997b8c9f13519786ed84611d8a27">setWithdrawalSweep</a> (uint64_t id, uint64_t sweepId) override</td></tr>
<tr class="separator:aafce997b8c9f13519786ed84611d8a27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ac0a6cc2a33dbee76b5ecc3155c2142"><td class="memItemLeft" align="right" valign="top">nonstd::optional&lt; <a class="el" href="namespacehub_1_1db.html#a21f2d2c0a917e8ee7792c3826af25402">AddressWithUUID</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a5ac0a6cc2a33dbee76b5ecc3155c2142">selectFirstUserAddress</a> () override</td></tr>
<tr class="separator:a5ac0a6cc2a33dbee76b5ecc3155c2142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ab452ff539c6f779489adace3a32696"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a3ab452ff539c6f779489adace3a32696">markUUIDAsSigned</a> (const common::crypto::UUID &amp;uuid) override</td></tr>
<tr class="separator:a3ab452ff539c6f779489adace3a32696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae809ac517856dc5547f4ef237d5c0928"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structhub_1_1db_1_1UserAccountBalanceEvent.html">UserAccountBalanceEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ae809ac517856dc5547f4ef237d5c0928">getAllUsersAccountBalancesSinceTimePoint</a> (std::chrono::system_clock::time_point newerThan) override</td></tr>
<tr class="separator:ae809ac517856dc5547f4ef237d5c0928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad26906d49d7cc08744069d30caf2db4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structhub_1_1db_1_1Sweep.html">Sweep</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aad26906d49d7cc08744069d30caf2db4">getUnconfirmedSweeps</a> (const std::chrono::system_clock::time_point &amp;olderThan) override</td></tr>
<tr class="separator:aad26906d49d7cc08744069d30caf2db4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f527abfd7ffe92b266d411468c44b6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a7f527abfd7ffe92b266d411468c44b6e">createTail</a> (uint64_t sweepId, const std::string &amp;hash) override</td></tr>
<tr class="separator:a7f527abfd7ffe92b266d411468c44b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf8afdfc0c882a0cf2b9cbee357700cc"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structhub_1_1db_1_1SweepTail.html">SweepTail</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#abf8afdfc0c882a0cf2b9cbee357700cc">getTailsForSweep</a> (uint64_t sweepId) override</td></tr>
<tr class="separator:abf8afdfc0c882a0cf2b9cbee357700cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94965bef1a445c0969577446e1b0693a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a94965bef1a445c0969577446e1b0693a">markTailAsConfirmed</a> (const std::string &amp;hash) override</td></tr>
<tr class="separator:a94965bef1a445c0969577446e1b0693a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4215f8e8181a09f3934437b99d87d2e3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structhub_1_1db_1_1UserAccountBalanceEvent.html">UserAccountBalanceEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a4215f8e8181a09f3934437b99d87d2e3">getUserAccountBalances</a> (uint64_t userId) override</td></tr>
<tr class="separator:a4215f8e8181a09f3934437b99d87d2e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08c2bcdef10059c455f72f622c2b7077"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structhub_1_1db_1_1UserAddressBalanceEvent.html">UserAddressBalanceEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a08c2bcdef10059c455f72f622c2b7077">getAllUserAddressesBalancesSinceTimePoint</a> (std::chrono::system_clock::time_point newerThan) override</td></tr>
<tr class="separator:a08c2bcdef10059c455f72f622c2b7077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6dc93c2085b3712def50ca0530d990e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structhub_1_1db_1_1HubAddressBalanceEvent.html">HubAddressBalanceEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aa6dc93c2085b3712def50ca0530d990e">getAllHubAddressesBalancesSinceTimePoint</a> (std::chrono::system_clock::time_point newerThan) override</td></tr>
<tr class="separator:aa6dc93c2085b3712def50ca0530d990e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8100e5965127fbe1b27d4c3d74a94971"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structhub_1_1db_1_1SweepEvent.html">SweepEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a8100e5965127fbe1b27d4c3d74a94971">getSweeps</a> (std::chrono::system_clock::time_point newerThan) override</td></tr>
<tr class="separator:a8100e5965127fbe1b27d4c3d74a94971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016fe339762b3f728fe88346a26220f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a016fe339762b3f728fe88346a26220f1">insertUserTransfers</a> (const std::vector&lt; <a class="el" href="structhub_1_1db_1_1UserTransfer.html">UserTransfer</a> &gt; &amp;transfers) override</td></tr>
<tr class="separator:a016fe339762b3f728fe88346a26220f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a188789645163dde28627a201405e5d86"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a188789645163dde28627a201405e5d86">userIdsFromIdentifiers</a> (const std::set&lt; std::string &gt; &amp;identifiers) override</td></tr>
<tr class="separator:a188789645163dde28627a201405e5d86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad64b5810ba91826e094b4ac89559bd36"><td class="memItemLeft" align="right" valign="top">std::map&lt; uint64_t, int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ad64b5810ba91826e094b4ac89559bd36">getTotalAmountForUsers</a> (const std::set&lt; uint64_t &gt; &amp;ids) override</td></tr>
<tr class="separator:ad64b5810ba91826e094b4ac89559bd36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81632b4e879cf83989e8f21640a4d2ca"><td class="memItemLeft" align="right" valign="top">std::map&lt; uint64_t, int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a81632b4e879cf83989e8f21640a4d2ca">getTotalAmountForAddresses</a> (const std::set&lt; uint64_t &gt; &amp;ids) override</td></tr>
<tr class="separator:a81632b4e879cf83989e8f21640a4d2ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3443a68878e6ff6071734f48f15197b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structhub_1_1db_1_1WithdrawalInfo.html">WithdrawalInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a3443a68878e6ff6071734f48f15197b8">getWithdrawalInfoFromUUID</a> (const std::string &amp;uuid) override</td></tr>
<tr class="separator:a3443a68878e6ff6071734f48f15197b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad294df86034636a5ae093c8d5df9f756"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#ad294df86034636a5ae093c8d5df9f756">createHubAddress</a> (const common::crypto::UUID &amp;uuid, const common::crypto::Address &amp;address) override</td></tr>
<tr class="separator:ad294df86034636a5ae093c8d5df9f756"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9353afdff8771795bd4c8f303120e3a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a9353afdff8771795bd4c8f303120e3a7">createHubAddressBalanceEntry</a> (uint64_t hubAddress, int64_t amount, const <a class="el" href="namespacehub_1_1db.html#abb85b3b20bacc338ecd2f65e91f5469b">HubAddressBalanceReason</a> reason, uint64_t sweepId) override</td></tr>
<tr class="separator:a9353afdff8771795bd4c8f303120e3a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a675f3ec0d4a9970ae854f0a4af0275af"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a675f3ec0d4a9970ae854f0a4af0275af">getHubAddressBalance</a> (uint64_t hubAddress) override</td></tr>
<tr class="separator:a675f3ec0d4a9970ae854f0a4af0275af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7782415ea29592db9dbdbc333c04d94c"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a7782415ea29592db9dbdbc333c04d94c">getUserAddressBalance</a> (uint64_t userAddress) override</td></tr>
<tr class="separator:a7782415ea29592db9dbdbc333c04d94c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9222343d4f897d8ee72c054cbb35684"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#af9222343d4f897d8ee72c054cbb35684">createSweep</a> (const common::crypto::Hash &amp;bundleHash, const std::string &amp;bundleTrytes, uint64_t intoHubAddress) override</td></tr>
<tr class="separator:af9222343d4f897d8ee72c054cbb35684"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b2a36923b5e666d4f4587976b03ef4c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structhub_1_1db_1_1TransferOutput.html">TransferOutput</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a6b2a36923b5e666d4f4587976b03ef4c">getWithdrawalsForSweep</a> (size_t max, const std::chrono::system_clock::time_point &amp;olderThan) override</td></tr>
<tr class="separator:a6b2a36923b5e666d4f4587976b03ef4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10f8d65d0674edeefdf7e57ec2c533cb"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structhub_1_1db_1_1TransferInput.html">TransferInput</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a10f8d65d0674edeefdf7e57ec2c533cb">getDepositsForSweep</a> (size_t max, const std::chrono::system_clock::time_point &amp;olderThan) override</td></tr>
<tr class="separator:a10f8d65d0674edeefdf7e57ec2c533cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc99025d922dc25eec53e23ab065c758"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structhub_1_1db_1_1TransferInput.html">TransferInput</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#acc99025d922dc25eec53e23ab065c758">getHubInputsForSweep</a> (uint64_t requiredAmount, const std::chrono::system_clock::time_point &amp;olderThan) override</td></tr>
<tr class="separator:acc99025d922dc25eec53e23ab065c758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55a55d262de33b4fc8d24002a33ec377"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a55a55d262de33b4fc8d24002a33ec377">isSweepConfirmed</a> (uint64_t sweepId) override</td></tr>
<tr class="separator:a55a55d262de33b4fc8d24002a33ec377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a226846068d1a9a770498586147d9808a"><td class="memItemLeft" align="right" valign="top">nonstd::optional&lt; <a class="el" href="structhub_1_1db_1_1AddressInfo.html">AddressInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a226846068d1a9a770498586147d9808a">getAddressInfo</a> (const common::crypto::Address &amp;address) override</td></tr>
<tr class="separator:a226846068d1a9a770498586147d9808a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b32c92b03f89e7cbc890494c1603986"><td class="memItemLeft" align="right" valign="top">nonstd::optional&lt; <a class="el" href="structhub_1_1db_1_1SweepEvent.html">SweepEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a2b32c92b03f89e7cbc890494c1603986">getSweepByBundleHash</a> (const common::crypto::Hash &amp;bundleHash) override</td></tr>
<tr class="separator:a2b32c92b03f89e7cbc890494c1603986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7776cc892af1b0ad6d7b036fdcde0bb7"><td class="memItemLeft" align="right" valign="top">nonstd::optional&lt; <a class="el" href="structhub_1_1db_1_1SweepEvent.html">SweepEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a7776cc892af1b0ad6d7b036fdcde0bb7">getSweepByWithdrawalUUID</a> (const std::string &amp;uuid) override</td></tr>
<tr class="separator:a7776cc892af1b0ad6d7b036fdcde0bb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec49081e2f322ecd7aed398dacd16a0f"><td class="memItemLeft" align="right" valign="top">nonstd::optional&lt; <a class="el" href="structhub_1_1db_1_1SweepDetail.html">SweepDetail</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#aec49081e2f322ecd7aed398dacd16a0f">getSweepDetailByBundleHash</a> (const common::crypto::Hash &amp;bundleHash) override</td></tr>
<tr class="separator:aec49081e2f322ecd7aed398dacd16a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4523a0534de8a288d5a538fe974e77f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a4523a0534de8a288d5a538fe974e77f2">execute</a> (const std::string &amp;what) override</td></tr>
<tr class="separator:a4523a0534de8a288d5a538fe974e77f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76589287cab65a098f70810ee393ef81"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:a76589287cab65a098f70810ee393ef81"><td class="memTemplItemLeft" align="right" valign="top">std::unique_ptr&lt; mysql::connection &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a76589287cab65a098f70810ee393ef81">fromConfig</a> (const <a class="el" href="structhub_1_1db_1_1Config.html">Config</a> &amp;config)</td></tr>
<tr class="separator:a76589287cab65a098f70810ee393ef81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4d165690d4c477d3367fc9269c9d42c"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:af4d165690d4c477d3367fc9269c9d42c"><td class="memTemplItemLeft" align="right" valign="top">std::unique_ptr&lt; sqlite::connection &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#af4d165690d4c477d3367fc9269c9d42c">fromConfig</a> (const <a class="el" href="structhub_1_1db_1_1Config.html">Config</a> &amp;config)</td></tr>
<tr class="separator:af4d165690d4c477d3367fc9269c9d42c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classhub_1_1db_1_1Connection"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classhub_1_1db_1_1Connection')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classhub_1_1db_1_1Connection.html">hub::db::Connection</a></td></tr>
<tr class="memitem:afa12d65ffc943d8b539821f6dc011e72 inherit pub_methods_classhub_1_1db_1_1Connection"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1Connection.html#afa12d65ffc943d8b539821f6dc011e72">~Connection</a> ()</td></tr>
<tr class="separator:afa12d65ffc943d8b539821f6dc011e72 inherit pub_methods_classhub_1_1db_1_1Connection"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a14e0ecf6f2dc6077d4b937b2720753c8"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; Conn &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html#a14e0ecf6f2dc6077d4b937b2720753c8">_conn</a></td></tr>
<tr class="separator:a14e0ecf6f2dc6077d4b937b2720753c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename Conn, typename Conf&gt;<br />
class hub::db::ConnectionImpl&lt; Conn, Conf &gt;</h3>


<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00047">47</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af4bb61e4c2770cac9e009a0732dd7ddd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4bb61e4c2770cac9e009a0732dd7ddd">&#9670;&nbsp;</a></span>ConnectionImpl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::<a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">ConnectionImpl</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structhub_1_1db_1_1Config.html">Config</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00049">49</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac56dede4f0fec8aee89b4e88c10d676d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac56dede4f0fec8aee89b4e88c10d676d">&#9670;&nbsp;</a></span>availableBalanceForUser()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::availableBalanceForUser </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>userId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the available balance for a user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">userId</td><td>- the DB userId </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint64_t - Available balance or 0 if none </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#ab6ed9b5d63bf98c07d8ebd37f9a00e8d">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00077">77</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a043362a3c17f1a79e67b32b667359c9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a043362a3c17f1a79e67b32b667359c9f">&#9670;&nbsp;</a></span>cancelWithdrawal()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::cancelWithdrawal </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>uuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancel a withdrawal operation (if not already processed) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>- the common::crypto::UUID identifier of the withdrawal </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size_t - 1 if successful </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a2ac9265482dbc6ec18c97434b6ac8ede">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00111">111</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="ad294df86034636a5ae093c8d5df9f756"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad294df86034636a5ae093c8d5df9f756">&#9670;&nbsp;</a></span>createHubAddress()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::createHubAddress </td>
          <td>(</td>
          <td class="paramtype">const common::crypto::UUID &amp;&#160;</td>
          <td class="paramname"><em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const common::crypto::Address &amp;&#160;</td>
          <td class="paramname"><em>address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new hub address from a UUID and IOTA address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>- a common::crypto::UUID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>- an address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int64_t - 1 on success </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a241a10758a9c4b956b02676ae60b5619">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00197">197</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a9353afdff8771795bd4c8f303120e3a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9353afdff8771795bd4c8f303120e3a7">&#9670;&nbsp;</a></span>createHubAddressBalanceEntry()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::createHubAddressBalanceEntry </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>hubAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacehub_1_1db.html#abb85b3b20bacc338ecd2f65e91f5469b">HubAddressBalanceReason</a>&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sweepId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new hub address balance record with a specific amount. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hubAddress</td><td>- the hub address id in the database </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">amount</td><td>- the amount </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reason</td><td>- a UserAddressBalanceReason, the reason </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sweepId</td><td>- the sweepId if the creation results from a sweep </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a8b49b14ea531a9280df01e080c1d245b">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00202">202</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="af9222343d4f897d8ee72c054cbb35684"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9222343d4f897d8ee72c054cbb35684">&#9670;&nbsp;</a></span>createSweep()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::createSweep </td>
          <td>(</td>
          <td class="paramtype">const common::crypto::Hash &amp;&#160;</td>
          <td class="paramname"><em>bundleHash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>bundleTrytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>intoHubAddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new sweep. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bundleHash</td><td>- the hash of the bundle for which a sweep is created </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bundleTrytes</td><td>- the serialized bundle in trytes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">intoHubAddress</td><td>- the hub address for remainder if any </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int64_t - the database id of the new sweep </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#ae8bc51657cbd1fc8ed5caf6626065194">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00217">217</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a7f527abfd7ffe92b266d411468c44b6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f527abfd7ffe92b266d411468c44b6e">&#9670;&nbsp;</a></span>createTail()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::createTail </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sweepId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>hash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a tail for a given sweep. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sweepId</td><td>- the id of the sweep for which to create a tail </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hash</td><td>- the tail hash </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#ad71ce609db504855e795ed24f3a05057">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00138">138</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="afec534687650575722c0162dcce3b4df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afec534687650575722c0162dcce3b4df">&#9670;&nbsp;</a></span>createUser()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::createUser </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>identifier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inserts a new user in the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">identifier</td><td>- a std::string user identifier </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#abc3f05101f2ee29ac4c374a2f35d8bb9">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00059">59</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="ad13f23c51a4b557b7cd9a9a4ca7705af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad13f23c51a4b557b7cd9a9a4ca7705af">&#9670;&nbsp;</a></span>createUserAccountBalanceEntry()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::createUserAccountBalanceEntry </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacehub_1_1db.html#ac42d10758bc8b6599297b15880d11159">UserAccountBalanceReason</a>&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const nonstd::optional&lt; uint64_t &gt;&#160;</td>
          <td class="paramname"><em>fkey</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new user account balance entry in the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">userId</td><td>- the user id in the database </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">amount</td><td>- a int64_t, the amount to withdraw </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reason</td><td>- a UserAddressBalanceReason, the reason </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fkey</td><td>- the key used to create a new IOTA address </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#ad6ca81200b8a89043e602d8c1ea1c6ff">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00096">96</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="adf14744ce8b02b5e97a62f0229aa3aeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf14744ce8b02b5e97a62f0229aa3aeb">&#9670;&nbsp;</a></span>createUserAddress()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::createUserAddress </td>
          <td>(</td>
          <td class="paramtype">const common::crypto::Address &amp;&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const common::crypto::UUID &amp;&#160;</td>
          <td class="paramname"><em>uuid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inserts a new user address entry in the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>- a common::crypto::Address, an IOTA address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">userId</td><td>- the user id in the database </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>- a common::crypto::UUID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint64_t - The id of the new address in the database </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a47ab93219e93fc11482a2f41c5489e23">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00081">81</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a982bee7e5944ab8fc7e9625e6b7dddb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a982bee7e5944ab8fc7e9625e6b7dddb4">&#9670;&nbsp;</a></span>createUserAddressBalanceEntry()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::createUserAddressBalanceEntry </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>addressId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacehub_1_1db.html#af0c76d08c7cec60044a454beb22f58b9">UserAddressBalanceReason</a>&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nonstd::optional&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>tailHash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nonstd::optional&lt; uint64_t &gt;&#160;</td>
          <td class="paramname"><em>sweepId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inserts a new user address balance entry in the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addressId</td><td>- a uint64_t, the id of the address in the database </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">amount</td><td>- a int64_t, the balance amount to store </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reason</td><td>- a UserAddressBalanceReason, the reason </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tailHash</td><td>- tailHash of the correpsonding transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sweepId</td><td>- if the new balance is the result of a sweep </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a010a4e491b9ad3a5587465b347a1bc4e">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00087">87</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a6528ede7945dc1e1936c7e2dbc8b9e2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6528ede7945dc1e1936c7e2dbc8b9e2e">&#9670;&nbsp;</a></span>createWithdrawal()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::createWithdrawal </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const common::crypto::Tag &amp;&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const common::crypto::Address &amp;&#160;</td>
          <td class="paramname"><em>payoutAddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a withdrawal entry for the user at from given address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>- the common::crypto::UUID identifier of the withdrawal </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">userId</td><td>- the user id in the database </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">amount</td><td>- a int64_t, the amount to withdraw </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tag</td><td>- the tag to use for the withdrawal </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payoutAddress</td><td>- a common::crypto::Address, the IOTA to address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint64_t - 1 if successful </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a6b6382409fd94e3f33b6bea395e8abb6">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00103">103</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a4523a0534de8a288d5a538fe974e77f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4523a0534de8a288d5a538fe974e77f2">&#9670;&nbsp;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::execute </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>what</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#ad62ea66562b32a1ce6143d53082ab8c5">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00267">267</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a76589287cab65a098f70810ee393ef81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76589287cab65a098f70810ee393ef81">&#9670;&nbsp;</a></span>fromConfig() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; mysql::connection &gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; mysql::connection, mysql::connection_config &gt;::fromConfig </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structhub_1_1db_1_1Config.html">Config</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mariadb_8cc_source.html#l00023">23</a> of file <a class="el" href="mariadb_8cc_source.html">mariadb.cc</a>.</p>

</div>
</div>
<a id="af4d165690d4c477d3367fc9269c9d42c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4d165690d4c477d3367fc9269c9d42c">&#9670;&nbsp;</a></span>fromConfig() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; sqlite::connection &gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; sqlite::connection, sqlite::connection_config &gt;::fromConfig </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structhub_1_1db_1_1Config.html">Config</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sqlite3_8cc_source.html#l00023">23</a> of file <a class="el" href="sqlite3_8cc_source.html">sqlite3.cc</a>.</p>

</div>
</div>
<a id="a61e0f7b4e710eea467f4eecd0d1bd51d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61e0f7b4e710eea467f4eecd0d1bd51d">&#9670;&nbsp;</a></span>fromConfig() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;Conn&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::fromConfig </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structhub_1_1db_1_1Config.html">Config</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a226846068d1a9a770498586147d9808a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a226846068d1a9a770498586147d9808a">&#9670;&nbsp;</a></span>getAddressInfo()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nonstd::optional&lt;<a class="el" href="structhub_1_1db_1_1AddressInfo.html">AddressInfo</a>&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getAddressInfo </td>
          <td>(</td>
          <td class="paramtype">const common::crypto::Address &amp;&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Provides information on an address if available. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>- the address to provide info on </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nonstd::optional&lt;AddressInfo&gt; - the information if available </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a9ba64a5e31db97a2288823220c2f3d41">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00247">247</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="aa6dc93c2085b3712def50ca0530d990e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6dc93c2085b3712def50ca0530d990e">&#9670;&nbsp;</a></span>getAllHubAddressesBalancesSinceTimePoint()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structhub_1_1db_1_1HubAddressBalanceEvent.html">HubAddressBalanceEvent</a>&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getAllHubAddressesBalancesSinceTimePoint </td>
          <td>(</td>
          <td class="paramtype">std::chrono::system_clock::time_point&#160;</td>
          <td class="paramname"><em>newerThan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of hub address balances from a point in time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">newerThan</td><td>- the start point in time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of <a class="el" href="structhub_1_1db_1_1HubAddressBalanceEvent.html">HubAddressBalanceEvent</a> </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a1338df486ef0e9374d7c14b2610e211e">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00162">162</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a08c2bcdef10059c455f72f622c2b7077"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08c2bcdef10059c455f72f622c2b7077">&#9670;&nbsp;</a></span>getAllUserAddressesBalancesSinceTimePoint()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structhub_1_1db_1_1UserAddressBalanceEvent.html">UserAddressBalanceEvent</a>&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getAllUserAddressesBalancesSinceTimePoint </td>
          <td>(</td>
          <td class="paramtype">std::chrono::system_clock::time_point&#160;</td>
          <td class="paramname"><em>newerThan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of user address balances from a point in time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">newerThan</td><td>- the start point in time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of <a class="el" href="structhub_1_1db_1_1UserAddressBalanceEvent.html">UserAddressBalanceEvent</a> </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#aef388b70e0a9f67a3a3d1d315eb71b99">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00156">156</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="ae809ac517856dc5547f4ef237d5c0928"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae809ac517856dc5547f4ef237d5c0928">&#9670;&nbsp;</a></span>getAllUsersAccountBalancesSinceTimePoint()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structhub_1_1db_1_1UserAccountBalanceEvent.html">UserAccountBalanceEvent</a>&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getAllUsersAccountBalancesSinceTimePoint </td>
          <td>(</td>
          <td class="paramtype">std::chrono::system_clock::time_point&#160;</td>
          <td class="paramname"><em>newerThan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of account balances from a point in time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">newerThan</td><td>- the start point in time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of <a class="el" href="structhub_1_1db_1_1UserAccountBalanceEvent.html">UserAccountBalanceEvent</a> </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#aafbee3855287266c932db8ab34b7fcc8">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00127">127</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a10f8d65d0674edeefdf7e57ec2c533cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10f8d65d0674edeefdf7e57ec2c533cb">&#9670;&nbsp;</a></span>getDepositsForSweep()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structhub_1_1db_1_1TransferInput.html">TransferInput</a>&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getDepositsForSweep </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::chrono::system_clock::time_point &amp;&#160;</td>
          <td class="paramname"><em>olderThan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a list of deposits up to a point in time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">max</td><td>- max number of deposits to return </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">olderThan</td><td>- the cutoff point in time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of <a class="el" href="structhub_1_1db_1_1TransferInput.html">TransferInput</a> </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a3788395276b0899f735a83a514010fe8">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00230">230</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a675f3ec0d4a9970ae854f0a4af0275af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a675f3ec0d4a9970ae854f0a4af0275af">&#9670;&nbsp;</a></span>getHubAddressBalance()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getHubAddressBalance </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>hubAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get hub address balance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hubAddress</td><td>- the hub address id in the database </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int64_t - the balance </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#af030a67ba1012fc518949c4c4169dcce">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00209">209</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="acc99025d922dc25eec53e23ab065c758"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc99025d922dc25eec53e23ab065c758">&#9670;&nbsp;</a></span>getHubInputsForSweep()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structhub_1_1db_1_1TransferInput.html">TransferInput</a>&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getHubInputsForSweep </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>requiredAmount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::chrono::system_clock::time_point &amp;&#160;</td>
          <td class="paramname"><em>olderThan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a list of hub inputs up to a point in time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">requiredAmount</td><td>- the required total amount to obtain </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">olderThan</td><td>- the cutoff point in time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of <a class="el" href="structhub_1_1db_1_1TransferInput.html">TransferInput</a> </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a132eb33d3669739ca5340387192bd74a">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00236">236</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a2b32c92b03f89e7cbc890494c1603986"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b32c92b03f89e7cbc890494c1603986">&#9670;&nbsp;</a></span>getSweepByBundleHash()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nonstd::optional&lt;<a class="el" href="structhub_1_1db_1_1SweepEvent.html">SweepEvent</a>&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getSweepByBundleHash </td>
          <td>(</td>
          <td class="paramtype">const common::crypto::Hash &amp;&#160;</td>
          <td class="paramname"><em>bundleHash</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Looks up a sweep by bundle hash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bundleHash</td><td>- the bundle hash to use for the lookup. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nonstd::optional&lt;SweepEvent&gt; - the sweep if found </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a718b417085693ab0c2e06c7f1574e882">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00252">252</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a7776cc892af1b0ad6d7b036fdcde0bb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7776cc892af1b0ad6d7b036fdcde0bb7">&#9670;&nbsp;</a></span>getSweepByWithdrawalUUID()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nonstd::optional&lt;<a class="el" href="structhub_1_1db_1_1SweepEvent.html">SweepEvent</a>&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getSweepByWithdrawalUUID </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>uuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Looks up a sweep by a withdrawal UUID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>- the withdrawal UUID to use for the lookup. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nonstd::optional&lt;SweepEvent&gt; - the sweep if found </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a965a1200f0ad38136b24f96928345158">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00257">257</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="aec49081e2f322ecd7aed398dacd16a0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec49081e2f322ecd7aed398dacd16a0f">&#9670;&nbsp;</a></span>getSweepDetailByBundleHash()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nonstd::optional&lt;<a class="el" href="structhub_1_1db_1_1SweepDetail.html">SweepDetail</a>&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getSweepDetailByBundleHash </td>
          <td>(</td>
          <td class="paramtype">const common::crypto::Hash &amp;&#160;</td>
          <td class="paramname"><em>bundleHash</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Looks up a sweep by bundle hash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bundleHash</td><td>- the bundle hash to use for the lookup. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nonstd::optional&lt;SweepDetail&gt; - the sweep details if found </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a0345b9d6ac669b0a7999ec00046feeed">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00262">262</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a8100e5965127fbe1b27d4c3d74a94971"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8100e5965127fbe1b27d4c3d74a94971">&#9670;&nbsp;</a></span>getSweeps()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structhub_1_1db_1_1SweepEvent.html">SweepEvent</a>&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getSweeps </td>
          <td>(</td>
          <td class="paramtype">std::chrono::system_clock::time_point&#160;</td>
          <td class="paramname"><em>newerThan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a list of sweeps with withdrawals from a point in time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">newerThan</td><td>- the start point in time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of <a class="el" href="structhub_1_1db_1_1SweepEvent.html">SweepEvent</a> </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a6f0e418f93c397c0b9c29b58c4391813">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00168">168</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="abf8afdfc0c882a0cf2b9cbee357700cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf8afdfc0c882a0cf2b9cbee357700cc">&#9670;&nbsp;</a></span>getTailsForSweep()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structhub_1_1db_1_1SweepTail.html">SweepTail</a>&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getTailsForSweep </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sweepId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of tails for a sweep. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sweepId</td><td>- the id of the sweep for which to create a tail </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of SweepTail-s </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a6656f0693bc57bca882f80b74b0ec012">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00142">142</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a81632b4e879cf83989e8f21640a4d2ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81632b4e879cf83989e8f21640a4d2ca">&#9670;&nbsp;</a></span>getTotalAmountForAddresses()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;uint64_t, int64_t&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getTotalAmountForAddresses </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; uint64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets current ammount for a list of user addresses. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ids</td><td>- a list of UserAddressId </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of pairs UserAddressId/amount </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a9fc3b50ec2d2e490ee393a62b33a9a25">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00188">188</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="ad64b5810ba91826e094b4ac89559bd36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad64b5810ba91826e094b4ac89559bd36">&#9670;&nbsp;</a></span>getTotalAmountForUsers()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;uint64_t, int64_t&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getTotalAmountForUsers </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; uint64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets current balances for a list of users. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ids</td><td>- a list of userIds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of pairs UserAccountId/balance </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a92855e98833af014362e1c8bb0d48f3a">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00183">183</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="aad26906d49d7cc08744069d30caf2db4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad26906d49d7cc08744069d30caf2db4">&#9670;&nbsp;</a></span>getUnconfirmedSweeps()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structhub_1_1db_1_1Sweep.html">Sweep</a>&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getUnconfirmedSweeps </td>
          <td>(</td>
          <td class="paramtype">const std::chrono::system_clock::time_point &amp;&#160;</td>
          <td class="paramname"><em>olderThan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of unconfirmed sweeps. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">olderThan</td><td>- the cutoff point in time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of unconfirmed <a class="el" href="structhub_1_1db_1_1Sweep.html">Sweep</a> older than olderThan </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a3db94ffe3e793fff44091db8c10ceac6">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00133">133</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a4215f8e8181a09f3934437b99d87d2e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4215f8e8181a09f3934437b99d87d2e3">&#9670;&nbsp;</a></span>getUserAccountBalances()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structhub_1_1db_1_1UserAccountBalanceEvent.html">UserAccountBalanceEvent</a>&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getUserAccountBalances </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>userId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of account balances for a user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">userId</td><td>- the user id in the database </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of <a class="el" href="structhub_1_1db_1_1UserAccountBalanceEvent.html">UserAccountBalanceEvent</a> for this user </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#ab67b4371f7634154f102f17b42fd0111">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00150">150</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a7782415ea29592db9dbdbc333c04d94c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7782415ea29592db9dbdbc333c04d94c">&#9670;&nbsp;</a></span>getUserAddressBalance()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getUserAddressBalance </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>userAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get user address balance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">userAddress</td><td>- the user address id in the database </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int64_t - the balance </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#aad654492bc4e2a25caad650cbd2f2ecc">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00213">213</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a3443a68878e6ff6071734f48f15197b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3443a68878e6ff6071734f48f15197b8">&#9670;&nbsp;</a></span>getWithdrawalInfoFromUUID()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structhub_1_1db_1_1WithdrawalInfo.html">WithdrawalInfo</a> <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getWithdrawalInfoFromUUID </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>uuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets info for a given withdrawal operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>- the common::crypto::UUID identifier of the withdrawal </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structhub_1_1db_1_1WithdrawalInfo.html">WithdrawalInfo</a> - info on the withdrawal </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#ab7e5b8d7c61d13048d258321ab017e0c">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00193">193</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a6b2a36923b5e666d4f4587976b03ef4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b2a36923b5e666d4f4587976b03ef4c">&#9670;&nbsp;</a></span>getWithdrawalsForSweep()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structhub_1_1db_1_1TransferOutput.html">TransferOutput</a>&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::getWithdrawalsForSweep </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::chrono::system_clock::time_point &amp;&#160;</td>
          <td class="paramname"><em>olderThan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a list of withdrawals up to a point in time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">max</td><td>- max number of withdrawals to return </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">olderThan</td><td>- the cutoff point in time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of <a class="el" href="structhub_1_1db_1_1TransferOutput.html">TransferOutput</a> </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#aa52c7250ccca04b4211eecbaddf83a47">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00224">224</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a016fe339762b3f728fe88346a26220f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a016fe339762b3f728fe88346a26220f1">&#9670;&nbsp;</a></span>insertUserTransfers()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::insertUserTransfers </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structhub_1_1db_1_1UserTransfer.html">UserTransfer</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>transfers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inserts new UserAccountBalance records from batch of transfers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">transfers</td><td>- a list of <a class="el" href="structhub_1_1db_1_1UserTransfer.html">UserTransfer</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a8d0decf2970e002a4eccb1e17bf28409">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00173">173</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a55a55d262de33b4fc8d24002a33ec377"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55a55d262de33b4fc8d24002a33ec377">&#9670;&nbsp;</a></span>isSweepConfirmed()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::isSweepConfirmed </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sweepId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sweepId</td><td>- the sweepId if the creation results from a sweep </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool - true if sweep is confirmed </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#ac7069d877c58d8aa08d5ab94a64e3437">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00243">243</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a94965bef1a445c0969577446e1b0693a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94965bef1a445c0969577446e1b0693a">&#9670;&nbsp;</a></span>markTailAsConfirmed()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::markTailAsConfirmed </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>hash</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mark a sweep tail as confirmed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hash</td><td>- the tail hash </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a7505f595d51bf3c299cbcb3bc2cc6729">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00146">146</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a3ab452ff539c6f779489adace3a32696"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ab452ff539c6f779489adace3a32696">&#9670;&nbsp;</a></span>markUUIDAsSigned()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::markUUIDAsSigned </td>
          <td>(</td>
          <td class="paramtype">const common::crypto::UUID &amp;&#160;</td>
          <td class="paramname"><em>uuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mark a given UUID as signed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>- the common::crypto::UUID to mark as signed </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#acc3dcc8f8252e79c615faea85d7a5d01">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00123">123</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a5ac0a6cc2a33dbee76b5ecc3155c2142"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ac0a6cc2a33dbee76b5ecc3155c2142">&#9670;&nbsp;</a></span>selectFirstUserAddress()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nonstd::optional&lt;<a class="el" href="namespacehub_1_1db.html#a21f2d2c0a917e8ee7792c3826af25402">AddressWithUUID</a>&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::selectFirstUserAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the first available UserAddress from the database. </p>
<dl class="section return"><dt>Returns</dt><dd>AddressWithUUID - a UUID,address pair if any, empty if table empty </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a5bedb1b8b96c2ecf16ac26e9a097b30e">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00119">119</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="aafce997b8c9f13519786ed84611d8a27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafce997b8c9f13519786ed84611d8a27">&#9670;&nbsp;</a></span>setWithdrawalSweep()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::setWithdrawalSweep </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sweepId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancel a withdrawal operation (if not already processed) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>- the database id of the withdrawal in the database </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sweepId</td><td>- the sweepId </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size_t - 1 if successful </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a95bd53ca4833cf66517aa71e441da711">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00115">115</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="aa02bf20bc6470d60c69fa46463a6fe69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa02bf20bc6470d60c69fa46463a6fe69">&#9670;&nbsp;</a></span>tailsForUserAddresses()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_multimap&lt;uint64_t, std::string&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::tailsForUserAddresses </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; uint64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>userIds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find all the user addresses that haven't been swept yet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">userIds</td><td>- a vector of userIds to query </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::unordered_multimap - a map of userId to addresses </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#af579df38ddfbf1ad4d055fc8660deb57">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00072">72</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a4d80206b06ff0db7946cd73bea9cc095"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d80206b06ff0db7946cd73bea9cc095">&#9670;&nbsp;</a></span>transaction()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classhub_1_1db_1_1Transaction.html">Transaction</a>&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::transaction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a transaction context compatible with the current database type. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classhub_1_1db_1_1Transaction.html" title="Transaction abstract class. ">Transaction</a> - a transaction context </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#ad793aac29875b3a8ebe2bac7abc4b1bd">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00055">55</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a59b76752aad088ec6e4e157ab6e9530e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59b76752aad088ec6e4e157ab6e9530e">&#9670;&nbsp;</a></span>unsweptUserAddresses()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="namespacehub_1_1db.html#abd45532e1f686cf43a0f30fb217b4572">AddressWithID</a>&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::unsweptUserAddresses </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find all the user addresses that haven't been swept yet. </p>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of non swept AddressWithID </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#af6455f92f85f5859a8d6d0e3ce177555">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00068">68</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="aac0ee1e88b765c89823b4e9b4f1320f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac0ee1e88b765c89823b4e9b4f1320f2">&#9670;&nbsp;</a></span>userIdFromIdentifier()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nonstd::optional&lt;int64_t&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::userIdFromIdentifier </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>identifier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">identifier</td><td>- a std::string user identifier </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int64_t - a user id or null if no user exists for the identifier </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#a079cf68d650cd959a8cdd8c4e7ceb45c">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00063">63</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<a id="a188789645163dde28627a201405e5d86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a188789645163dde28627a201405e5d86">&#9670;&nbsp;</a></span>userIdsFromIdentifiers()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, int64_t&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::userIdsFromIdentifiers </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>identifiers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets database userIds from user identifiers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">identifiers</td><td>- a list of user identifiers </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector - a list of pairs identifier/userId </dd></dl>

<p>Implements <a class="el" href="classhub_1_1db_1_1Connection.html#aa9fef4153adb3f2f439b6ca7c5ab805b">hub::db::Connection</a>.</p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00178">178</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a14e0ecf6f2dc6077d4b937b2720753c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14e0ecf6f2dc6077d4b937b2720753c8">&#9670;&nbsp;</a></span>_conn</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Conn, typename Conf&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;Conn&gt; <a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">hub::db::ConnectionImpl</a>&lt; Conn, Conf &gt;::_conn</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8h_source.html#l00270">270</a> of file <a class="el" href="connection__impl_8h_source.html">connection_impl.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="connection__impl_8h_source.html">connection_impl.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacehub.html">hub</a></li><li class="navelem"><a class="el" href="namespacehub_1_1db.html">db</a></li><li class="navelem"><a class="el" href="classhub_1_1db_1_1ConnectionImpl.html">ConnectionImpl</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
